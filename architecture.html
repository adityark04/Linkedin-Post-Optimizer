
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Post Optimizer - Application Architecture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .workflow-step {
            position: relative;
            padding-left: 2rem;
            padding-bottom: 1.5rem;
            border-left: 2px solid #e5e7eb;
        }
        .workflow-step:last-child {
            border-left: 2px solid transparent;
            padding-bottom: 0;
        }
        .workflow-step::before {
            content: '';
            position: absolute;
            left: -0.5rem;
            top: 0.25rem;
            width: 0.875rem;
            height: 0.875rem;
            border-radius: 9999px;
            background-color: #fff;
            border: 2px solid #3b82f6;
        }
        .component-tag {
            display: inline-block;
            padding: 0.1rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .tag-ui { background-color: #dbeafe; color: #1e40af; border: 1px solid #93c5fd; }
        .tag-logic { background-color: #dcfce7; color: #15803d; border: 1px solid #86efac; }
        .tag-ai { background-color: #fef3c7; color: #b45309; border: 1px solid #fde047; }
        .tag-data { background-color: #ede9fe; color: #6d28d9; border: 1px solid #c4b5fd; }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <div class="container mx-auto px-4 py-12">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-900">LinkedIn Post Optimizer</h1>
            <p class="text-xl text-gray-600 mt-2">Application Architecture & Data Flow</p>
        </header>

        <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold mb-6 border-b pb-4">Core Workflows</h2>

            <!-- WORKFLOW 1: GENERATE POST -->
            <section class="mb-12">
                <h3 class="text-xl font-semibold text-blue-700 mb-6">Workflow 1: Generate Post (with RAG)</h3>
                <p class="mb-6 text-gray-600">This is the most advanced feature, using Retrieval-Augmented Generation (RAG) to create posts in the user's personal style. It has two phases:</p>

                <article class="mb-8 p-6 bg-gray-50 rounded-lg border">
                    <h4 class="text-lg font-bold mb-4">Part A: Building the Knowledge Base (Your Style Library)</h4>
                    <div class="workflow">
                        <div class="workflow-step">
                            <p><strong>User Action:</strong> User pastes a successful post into the <span class="component-tag tag-ui">StyleLibraryManager</span> component and clicks "Add to Library".</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>Embedding Logic:</strong> The <span class="component-tag tag-logic">addPostToLibrary</span> function is called. It sends the post text to our <span class="component-tag tag-logic">geminiService</span>.</p>
                        </div>
                        <div class="workflow-step">
                             <p><strong>AI Call:</strong> The service calls the <span class="component-tag tag-ai">text-embedding-004</span> model to convert the text into a numerical vector (an "embedding").</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>Data Storage:</strong> The original text and its new vector embedding are saved together as an object into the browser's <span class="component-tag tag-data">Local Storage</span>. This creates a persistent, personal style database for the AI.</p>
                        </div>
                    </div>
                </article>

                <article class="p-6 bg-gray-50 rounded-lg border">
                    <h4 class="text-lg font-bold mb-4">Part B: Generating a New Post</h4>
                     <div class="workflow">
                        <div class="workflow-step">
                            <p><strong>User Action:</strong> User fills in the 'Goal', 'Tone', and 'Details' form fields in the <span class="component-tag tag-ui">PostGenerator</span> component and clicks "Generate Posts".</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>Step 1: Embed Query (Logic):</strong> The app takes the 'Goal' and 'Details' and sends them to the <span class="component-tag tag-ai">text-embedding-004</span> model to create an embedding for the user's *current request*.</p>
                        </div>
                        <div class="workflow-step">
                             <p><strong>Step 2: Retrieve (Logic):</strong> The app's <span class="component-tag tag-logic">cosineSimilarity</span> function compares the user's request embedding to all the post embeddings stored in the <span class="component-tag tag-data">Local Storage</span> library.</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>Step 3: Augment (Logic):</strong> The system selects the top 3 most stylistically similar posts from the library. These are the most relevant examples for the current task.</p>
                        </div>
                         <div class="workflow-step">
                            <p><strong>Step 4: Generate (AI Call):</strong> The user's request (Goal, Tone, Details) AND the 3 retrieved posts are sent to the powerful <span class="component-tag tag-ai">gemini-2.5-flash</span> model. The AI is instructed to mimic the style of the provided examples.</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>Render Result:</strong> The AI returns a new post, which is displayed to the user in the <span class="component-tag tag-ui">GeneratedPost</span> component.</p>
                        </div>
                    </div>
                </article>
            </section>
            
            <!-- WORKFLOW 2: REAL-TIME ENGAGEMENT PREDICTION -->
            <section class="mb-12">
                <h3 class="text-xl font-semibold text-blue-700 mb-6">Workflow 2: Engagement Prediction (Custom DL Model)</h3>
                <p class="mb-6 text-gray-600">This workflow uses a simulated, custom-trained deep learning model to provide instant feedback on a post's quality without an API call.</p>
                <article class="p-6 bg-gray-50 rounded-lg border">
                     <div class="workflow">
                        <div class="workflow-step">
                            <p><strong>User Action:</strong> User types their draft into the textarea in the 'Revise Post' tab, handled by the <span class="component-tag tag-ui">PostAnalyzer</span> component.</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>Model Inference (Simulation):</strong> After the user stops typing, the text is sent to the <span class="component-tag tag-logic">engagementPredictorService</span>. This service mimics a trained text classification model by analyzing the text for key features (length, questions, hashtags, etc.) that it would have learned from a <span class="component-tag tag-data">training dataset</span>.</p>
                        </div>
                        <div class="workflow-step">
                             <p><strong>Render Result:</strong> The service returns a prediction ('Low', 'Medium', 'High'), a confidence score, and justification points. This result is displayed in real-time by the <span class="component-tag tag-ui">EngagementPredictor</span> component, giving the user immediate feedback.</p>
                        </div>
                    </div>
                </article>
            </section>

            <!-- WORKFLOW 3: REVISE POST -->
            <section>
                <h3 class="text-xl font-semibold text-blue-700 mb-6">Workflow 3: Revise Post (with Gemini)</h3>
                 <p class="mb-6 text-gray-600">This workflow uses the powerful Gemini LLM for an in-depth analysis and revision of a user's draft post.</p>
                <article class="p-6 bg-gray-50 rounded-lg border">
                     <div class="workflow">
                        <div class="workflow-step">
                            <p><strong>User Action:</strong> User clicks the "Revise Post with Gemini AI" button in the <span class="component-tag tag-ui">PostAnalyzer</span> component.</p>
                        </div>
                        <div class="workflow-step">
                            <p><strong>AI Call with Structured Output:</strong> The draft text is sent to the <span class="component-tag tag-ai">gemini-2.5-flash</span> model. The request includes a specific `responseSchema`, instructing the AI to return its analysis in a clean JSON format, including a revised post and a numerical score.</p>
                        </div>
                        <div class="workflow-step">
                             <p><strong>Render Result:</strong> The AI returns a JSON object. This data is used to display the final result, including the score gauge and a side-by-side comparison of the original and revised posts within the <span class="component-tag tag-ui">PostAnalyzer</span> and <span class="component-tag tag-ui">GeneratedPost</span> components.</p>
                        </div>
                    </div>
                </article>
            </section>
        </div>

        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>This document provides a high-level overview of the application's architecture.</p>
        </footer>
    </div>
</body>
</html>
